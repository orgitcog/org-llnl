.lc:
  id_tokens:
    SITE_ID_TOKEN:
      aud: https://lc.llnl.gov/gitlab

.corona:
  extends: .lc
  tags:
    - shell
    - corona
  variables:
    PYTHON_MODULE: python/3.9.12
    MPI_MODULE: openmpi/4.1.2 # OpenMPI is a popular open-source MPI implementation
    GCC_MODULE: gcc/10.3.1
    DATA_PATH: "/p/lustre3/iopp/gitlab-runner-data/"
    LOG_STORE_DIR: "/p/lustre3/iopp/dftracer-traces-lfs" # 'iopp' refers to a specific directory structure
    CUSTOM_CI_OUTPUT_DIR: "/p/lustre3/iopp/gitlab-runner-outputs"
    BASELINE_CSV: "/p/lustre3/iopp/dftracer-traces-lfs/v1.0.10.dev6/corona/trace_paths.csv"
    CORES: 48
    GPUS: 8
    LARGE_QUEUE_WALLTIME: 480 # Walltime specifies the maximum runtime in minutes
    SMALL_QUEUE_WALLTIME: 60
    LARGE_QUEUE: pbatch # 'pbatch' is a queue name for batch jobs
    SMALL_QUEUE: pdebug # 'pdebug' is a queue name for debugging jobs
    MAX_NODES_SMALL_QUEUE: 8
    SYSTEM_NAME: corona

.tuo:
  extends: .lc 
  tags: 
    - shell 
    - tuolumne
  variables: 
    PYTHON_MODULE: cray-python/3.11.7
    MPI_MODULE: cray-mpich/8.1.25 # OpenMPI is a popular open-source MPI implementation
    GCC_MODULE: gcc/12.2.0
    ROCM_MODULE: rocm/6.3.1
    DATA_PATH: "/p/lustre5/iopp/gitlab-runner-data/"
    LOG_STORE_DIR: "/p/lustre5/iopp/dftracer-traces-lfs" # 'iopp' refers to a specific directory structure
    CUSTOM_CI_OUTPUT_DIR: "/p/lustre5/iopp/gitlab-runner-outputs"
    SMALL_QUEUE_WALLTIME: 60
    LARGE_QUEUE: pbatch # 'pbatch' is a queue name for batch jobs
    SMALL_QUEUE: pdebug # 'pdebug' is a queue name for debugging jobs
    MAX_NODES_SMALL_QUEUE: 8
    SYSTEM_NAME: tuolumne

