description:
    name: hello_bye_world_slurm_1
    description: Test variant of hello_bye_parameterized for slurm script serialization

batch:
    type        : slurm
    host        : rzwhippet
    bank        : guests
    queue       : pdebug
        
env:
    variables:
        OUTPUT_PATH: hello_bye_world
    labels:
        OUT_FORMAT: $(GREETING)_$(NAME).txt

study:
    - name: hello_world
      description: Say hello to someone!
      run:
          cmd: |
            $(LAUNCHER) echo "$(GREETING), $(NAME)!" > $(OUT_FORMAT)
            $(LAUNCHER) sleep 1
          procs: 1
          exclusive: True
          walltime: "00:60"
          
    - name: bye_world
      description: Say bye to someone!
      run:
          cmd: |
            $(LAUNCHER) echo "Bye, World!" > bye.txt
            $(LAUNCHER) sleep 1
          procs: 1
          walltime: "00:60"
          depends: [hello_world]

global.parameters:
    # NAME:
    #     values: [Pam, Jim, Michael, Dwight]
    #     label: NAME.%%
    # GREETING:
    #     values: [Hello, Ciao, Hey, Hi]
    #     label: GREETING.%%
    NAME:
        values: [Pam]
        label: NAME.%%
    GREETING:
        values: [Hello]
        label: GREETING.%%
